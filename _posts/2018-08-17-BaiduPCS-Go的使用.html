---
layout: post
title: "BaiduPCS-Go的使用"
date: 2018-08-17
categories: 软件使用
tags: ['百度网盘','下载','教程']
---
<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8" />
		<title>BaiduPCS-Go的使用</title>
	</head>
<body>
<h2>Why BaiduPCS-Go</h2>
<p>BaiduPCS-Go是一个用Go语言编的命令行版的百度网盘，我们可以类比mas和Appstore的关系。那么为什么要用这样一个安装比较麻烦，还要记命令行的百度网盘的替代品，直接用百度网盘客户端不好么？</p>
<p>这还真的是不好，百度网盘在mac下是一个十足的阉割版，最常用的功能中，Mac版缺失了以下几种功能：</p>
<ol>
	<li><strong>没有分享功能</strong>：mac下的客户端的分享功能居然是需要通过浏览器打开，太不优雅了。</li>
	<li><strong>没有离线下载任务</strong>：直接导致不能下载磁力链接。</li>
</ol>

<p>如果你和我一样平时一样习惯终端操作，这个工具的学习成本超级低，同时它还有一定的提升下载速度的功效。</p>

<h2>使用指南</h2>

<h3>安装</h3>

<p>Mac一般是预装了go的，如果没有的话，使用<code>brew install go</code>来安装。除了go我们还需要安装git，同样使用<code>brew install git</code>。在拥有了git和go以后，执行下面的指令即可。</p>

<pre><code class="code-highlighted code-bash">go get -u -v github.com/iikira/BaiduPCS-Go</code></pre>

<p>注：在安装途中，有提示说其安装到了一个<code>~/go/bin</code>的目录，也就是说这个工具的执行文件在<code>~/go/bin</code>这个目录。</p>

<p>为了之后我们能够全局使用这个指令，于是我们将<code>export PATH=&quot;/Users/deamov/go/bin:$PATH&quot;</code>添加到配置环境变量的文件中，如果没有使用zsh的话在<code>~/.bashrc</code>中，如果用的是zsh的话在<code>~/.zshrc</code>中。</p>

<p><em>注：deamov是我的电脑的用户名，至此安装便结束了。</em></p>

<h3>常用操作说明</h3>

<h4>登陆</h4>

<pre><code class="code-highlighted code-bash">BaiduPCS-Go</code></pre>

<p>简单一行指令就可以登录了，如果之前已经登陆过账号的话，现在就已经可以开始进行下载等操作了，如下效果图。</p>

<figure><img src="https://ws3.sinaimg.cn/large/006tNbRwly1fucuk0k8hnj310c0lojst.jpg"/></figure>

<p>第一次使用需要有登陆的操作，输入<code>login</code>即可登陆，尊许提示依次输入账户和密码即可，如果需要验证码，则会输出一个链接，打开就可以看到验证码了。</p>

<h4>基本操作</h4>

<p>基本的移动目录的方式和linux的操作一样，<code>ls</code>是现实当前目录的文件，<code>rm</code>是删除命令，<code>cd</code>是切换目录，创建目录是<code>mkdir</code>，拷贝是<code>cp</code>，值得一提的是它支持Tab补全。和平时使用的终端命令不同的有如下几个指令。</p>

<ul>
	<li><strong>搜索：</strong>平时我们使用的<code>grep</code>在这里是不能使用的，我们用<code>search</code>关键词来搜索。

<pre><code class="code-highlighted code-bash">search 关键字 <span class="syntax-all syntax-comment"># 搜索当前工作目录的文件
</span>search -path=/ 关键字 <span class="syntax-all syntax-comment"># 搜索根目录的文件
</span>search -r 关键字	<span class="syntax-all syntax-comment"># 递归搜索当前工作目录的文件 
</span></code></pre></li>
	<li><strong>下载：</strong>记住是download就好啦

<pre><code class="code-highlighted code-bash">BaiduPCS-Go download <span class="syntax-all syntax-keyword">&lt;</span>网盘文件或目录的路径<span class="syntax-all syntax-keyword">1&gt;</span> 
BaiduPCS-Go d <span class="syntax-all syntax-keyword">&lt;</span>网盘文件或目录的路径<span class="syntax-all syntax-keyword">1&gt;</span> <span class="syntax-all syntax-keyword">&lt;</span>文件或目录<span class="syntax-all syntax-keyword">2&gt;</span> <span class="syntax-all syntax-keyword">&lt;</span>文件或目录<span class="syntax-all syntax-keyword">3&gt;</span> ...
<span class="syntax-all syntax-comment"># 当然支持多文件下载咯，下载目录默认在~/Download文件夹中
</span></code></pre></li>
	<li><strong>离线下载: </strong>支持http/https/ftp/电驴/磁力链协议

<pre><code class="code-highlighted code-bash"><span class="syntax-all syntax-comment"># 将百度和腾讯主页, 离线下载到根目录 /
</span>offlinedl add -path=/ http://baidu.com http://qq.com

<span class="syntax-all syntax-comment"># 添加磁力链接任务
</span>offlinedl add magnet:<span class="syntax-all syntax-keyword">?</span>xt=urn:btih:xxx

<span class="syntax-all syntax-comment"># 查询任务ID为 12345 的离线下载任务状态
</span>offlinedl query 12345

<span class="syntax-all syntax-comment"># 取消任务ID为 12345 的离线下载任务
</span>offlinedl cancel 12345 </code></pre></li>
</ul>

<h4>分享share</h4>

<ul>
	<li><strong>查看分享内容</strong>

<pre><code class="code-highlighted code-bash">share list
share l</code></pre></li>
	<li><strong>取消分享</strong>

<pre><code class="code-highlighted code-bash">share cancel <span class="syntax-all syntax-keyword">&lt;</span>shareid_<span class="syntax-all syntax-keyword">1&gt;</span>
share c <span class="syntax-all syntax-keyword">&lt;</span>shareid_<span class="syntax-all syntax-keyword">1&gt;</span>
<span class="syntax-all syntax-comment"># 遗憾的是只能支持通过shareid来取笑分享
</span></code></pre></li>
</ul>

<h4>上传：同名文件会被覆盖</h4>

<pre><code class="code-highlighted code-bash">upload <span class="syntax-all syntax-keyword">&lt;</span>本地文件/目录的路径<span class="syntax-all syntax-keyword">1&gt;</span> <span class="syntax-all syntax-keyword">&lt;</span>文件/目录<span class="syntax-all syntax-keyword">2&gt;</span> <span class="syntax-all syntax-keyword">&lt;</span>文件/目录<span class="syntax-all syntax-keyword">3&gt;</span> ... <span class="syntax-all syntax-keyword">&lt;</span>目标目录<span class="syntax-all syntax-keyword">&gt;</span>
u <span class="syntax-all syntax-keyword">&lt;</span>本地文件/目录的路径<span class="syntax-all syntax-keyword">1&gt;</span> <span class="syntax-all syntax-keyword">&lt;</span>文件/目录<span class="syntax-all syntax-keyword">2&gt;</span> <span class="syntax-all syntax-keyword">&lt;</span>文件/目录<span class="syntax-all syntax-keyword">3&gt;</span> ... <span class="syntax-all syntax-keyword">&lt;</span>目标目录<span class="syntax-all syntax-keyword">&gt;</span>

<span class="syntax-all syntax-comment"># 实例
</span>upload <span class="syntax-all syntax-keyword">~</span>/Downloads/1.mp4 /Video</code></pre>

<h3>其他</h3>

<p>这个工具很强大，还可以通过设置下载线程数等等操作来提升下载速度，更多详细的操作请参考它的<a href="https://github.com/iikira/BaiduPCS-Go">官网</a>。</p>

</body>
</html>

